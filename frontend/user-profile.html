<!DOCTYPE html>
<html lang="en">
  

<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="description" content="TechWave">
<meta name="author" content="Frenify">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<link href="img/ayruvedi.png" rel="icon">
<link href="img/ayruvedi.png" rel="AyruvediCure">
<title>User Profile - TechWave</title>


<script>
	if (!localStorage.frenify_skin) {
		localStorage.frenify_skin = 'light';
	}
	if (!localStorage.frenify_panel) {
		localStorage.frenify_panel = '';
	}
	document.documentElement.setAttribute("data-techwave-skin", localStorage.frenify_skin);
	if(localStorage.frenify_panel !== ''){
		document.documentElement.classList.add(localStorage.frenify_panel);
	}
  	
</script>

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com/">
<link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Heebo:wght@100;200;300;400;500;600;700;800;900&amp;family=Work+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap" rel="stylesheet">
<!-- !Google Fonts -->

<!-- Styles -->
<link type="text/css" rel="stylesheet" href="css/plugins8a54.css?ver=1.0.0" />
<link type="text/css" rel="stylesheet" href="css/style8a54.css?ver=1.0.0" />
<!-- !Styles -->

</head>

<body>


<!-- Moving Submenu -->
<div class="techwave_fn_fixedsub">
	<ul></ul>
</div>
<!-- !Moving Submenu -->

<!-- Preloader -->
<div class="techwave_fn_preloader">
	<svg>
		<circle class="first_circle" cx="50%" cy="50%" r="110"></circle>
		<circle class="second_circle" cx="50%" cy="50%" r="110"></circle>
	</svg>
</div>
<!-- !Preloader -->


<!-- MAIN WRAPPER -->
<div class="techwave_fn_wrapper">
	<div class="techwave_fn_wrap">
	
	
		<!-- Searchbar -->
		<div class="techwave_fn_searchbar">
			<div class="search__bar">
				<input class="search__input" type="text" placeholder="Search here...">
				<img src="svg/search.svg" alt="" class="fn__svg search__icon">
				<a class="search__closer" href="#"><img src="svg/close.svg" alt="" class="fn__svg"></a>
			</div>
			<div class="search__results">
				<div class="results__title">Results</div>
				<div class="results__list">
					<ul>
						<li><a href="#">Artificial Intelligence</a></li>
						<li><a href="#">AI Doctor</a></li>
						<li><a href="#">Tradition of Ayurvedic Medicines</a></li>
						<li><a href="#">Why Ayurvedicure</a></li>
					</ul>
				</div>
			</div>
		</div>
		<!-- !Searchbar -->
		
		<!-- HEADER -->
		<header class="techwave_fn_header">
		
			<!-- Header left: token information -->
			<div class="header__left">
				<div class="fn__token_info">
					<span class="token_summary">
						<span class="count">120+</span>
						<span class="text">Happy People</span>
					</span>
					<a href="contact.html" class="token_upgrade techwave_fn_button"><span>Contact Us</span></a>
					
				</div>
			</div>
			<!-- /Header left: token information -->
			
			
			<!-- Header right: navigation bar -->
			<div class="header__right">
				<div class="fn__nav_bar">
					
					<!-- Search (bar item) -->
					<div class="bar__item bar__item_search">
						<a href="#" class="item_opener">
							<img src="svg/search.svg" alt="" class="fn__svg">
						</a>
						<div class="item_popup">
							<input type="text" placeholder="Search">
						</div>
					</div>
					<!-- !Search (bar item) -->
					
					<!-- Notification (bar item) -->
					<div class="bar__item bar__item_notification has_notification">
						<a href="#" class="item_opener">
							<img src="svg/bell.svg" alt="" class="fn__svg">
						</a>
						<div class="item_popup">
							<div class="ntfc_header">
								<h2 class="ntfc_title">Notifications</h2>
								<a href="#">So Far</a>
							</div>
							<div class="ntfc_list">
								<ul>
									<li>
										<p><a href="notification-single.html">Version 1.0.1 has been launched</a></p>
										<span>34 Min Ago</span>
									</li>
									<li>
										<p><a href="notification-single.html">New Message from Doctor</a></p>
										<span>1 day Ago</span>
									</li>
									<li>
										<p><a href="notification-single.html">Updated Presciption</a></p>
										<span>10 Jul</span>
									</li>
								</ul>
							</div>
						</div>
					</div>
					<!-- !Notification (bar item) -->
					
					<!-- Full Screen (bar item) -->
					<div class="bar__item bar__item_fullscreen">
						<a href="#" class="item_opener">
							<img src="svg/fullscreen.svg" alt="" class="fn__svg f_screen">
							<img src="svg/smallscreen.svg" alt="" class="fn__svg s_screen">
						</a>
					</div>
					<!-- !Full Screen (bar item) -->
					
					<!-- Language (bar item) -->
					<div class="bar__item bar__item_language">
						<a href="#" class="item_opener">
							<img src="svg/language.svg" alt="" class="fn__svg">
						</a>
						<div class="item_popup">
							<ul>
								<li>
									<span class="active">English</span>
								</li>
								
							</ul>
						</div>
					</div>
					<!-- !Language (bar item) -->
					
					<!-- Site Skin (bar item) -->
					<div class="bar__item bar__item_skin">
						<a href="#" class="item_opener">
							<img src="svg/sun.svg" alt="" class="fn__svg light_mode">
							<img src="svg/moon.svg" alt="" class="fn__svg dark_mode">
						</a>
					</div>
					<!-- !Site Skin (bar item) -->
					
					<!-- User (bar item) -->
					<div class="bar__item bar__item_user">
						<a href="#" class="user_opener">
							<img src="img/user/user.png" alt="">
						</a>
						<div class="item_popup">
							<div class="user_profile">
								<div class="user_img">
									<img src="img/user/user.png" alt="">
								</div>
								<div class="user_info">
									<h2 class="user_name">John Cena<span>New</span></h2>
									<p><a href="mailto:johncena@gmail.com" class="user_email">johncena@gmail.com</a></p>
								</div>
							</div>
							<div class="user_nav">
								<ul>
									<li>
										<a href="user-profile.html">
											<span class="icon"><img src="svg/person.svg" alt="" class="fn__svg"></span>
											<span class="text">Profile</span>
										</a>
									</li>
									<li>
										<a href="user-settings.html">
											<span class="icon"><img src="svg/setting.svg" alt="" class="fn__svg"></span>
											<span class="text">Settings</span>
										</a>
									</li>
									
									<li>
										<a href="sign-in.html">
											<span class="icon"><img src="svg/logout.svg" alt="" class="fn__svg"></span>
											<span class="text">Log Out</span>
										</a>
									</li>
								</ul>
							</div>
						</div>
					</div>
					<!-- !User (bar item) -->
					
					
				</div>
			</div>
			<!-- !Header right: navigation bar -->
			
		</header>
		<!-- !HEADER -->
		
		
		<!-- LEFT PANEL -->
		<div class="techwave_fn_leftpanel">
			
			<div class="mobile_extra_closer"></div>
			
			<!-- logo (left panel) -->
			<div class="leftpanel_logo">
				<a href="index.html" class="fn_logo">
					<span class="full_logo">
						<img src="img/ayurvedicure-removebg-preview.png" alt="" class="desktop_logo">
						<img src="img/ayurvedicure-removebg-preview.png" alt="" class="retina_logo">
					</span>
					<span class="short_logo">
						<img src="img/ayruvedi.png" alt="" class="desktop_logo">
						<img src="img/ayruvedi.png" alt="" class="retina_logo">
					</span>
				</a>
				<a href="#" class="fn__closer fn__icon_button desktop_closer">
					<img src="svg/arrow.svg" alt="" class="fn__svg">
				</a>
				<a href="#" class="fn__closer fn__icon_button mobile_closer">
					<img src="svg/arrow.svg" alt="" class="fn__svg">
				</a>
			</div>
			<!-- !logo (left panel) -->
			
			<!-- content (left panel) -->
			<div class="leftpanel_content">
			
				<!-- #1 navigation group -->
				<div class="nav_group">
					<h2 class="group__title">Start Here</h2>
					<ul class="group__list">
						<li>
							<a href="user-login.html" class="fn__tooltip menu__item" data-position="right" title="Home">
								<span class="icon"><img src="svg/home.svg" alt="" class="fn__svg"></span>
								<span class="text">Home</span>
							</a>
						</li>
						
						<li>
							<a href="about-us.html" class="fn__tooltip menu__item" data-position="right" title="About Us">
								<span class="icon"><img src="svg/person.svg" alt="" class="fn__svg"></span>
								<span class="text">About Us</span>
							</a>
						</li>
						<li>
							<a href="blogs.html" class="fn__tooltip menu__item" data-position="right" title="Finetuned Models">
								<span class="icon"><img src="svg/cube.svg" alt="" class="fn__svg"></span>
								<span class="text">Blogs</span>
							</a>
						</li>
						
					</ul>
				</div>
				<!-- !#1 navigation group -->
			
				<!-- #2 navigation group -->
				<div class="nav_group">
					<h2 class="group__title">Consultation</h2>
					<ul class="group__list">
						<li>
							<a href="ai-chat-bot.html" class="fn__tooltip menu__item" data-position="right" title="AI Doctor">
								<span class="icon"><img src="svg/icons8-chatgpt.svg"  alt="" class="fn__svg"></span>
								<span class="text">AI Doctor</span>
							</a>
						</li>
						<li>
							<a href="human-doctor.html" class="fn__tooltip menu__item" data-position="right" title="Human Doctor">
								<span class="icon"><img src="svg/doctor-svgrepo-com.svg" alt="" class="fn__svg"></span>
								<span class="text">Human Doctor</span>
							</a>
						</li>
						<li>
							
							<a href="prakriti-analysis.html" class="fn__tooltip menu__item" data-position="right" title="Human Doctor">
								<span class="icon"><img src="svg/doctor-svgrepo-com.svg" alt="" class="fn__svg"></span>
								<span class="text">Prakriti Analysis</span>
							</a>
						</li>
					</ul>
				</div>
				<!-- !#2 navigation group -->
			
				<!-- #3 navigation group -->
				<div class="nav_group">
					<h2 class="group__title"></h2>
					<ul class="group__list">
						
						
						<li>
							<a href="sign-in.html" class="fn__tooltip menu__item" data-position="right" title="Log Out">
								<span class="icon"><img src="svg/logout.svg" alt="" class="fn__svg"></span>
								<span class="text">Log Out</span>
							</a>
						</li>
					</ul>
				</div>
				<!-- !#3 navigation group -->
				
				
			</div>
			<!-- !content (left panel) -->
			
		</div>
		<!-- !LEFT PANEL -->
		
		
		<!-- CONTENT -->
		<div class="techwave_fn_content">
		
			<!-- PAGE (all pages go inside this div) -->
			<div class="techwave_fn_page">
				
				<!-- User Profile Page -->
				<div class="techwave_fn_user_profile_page">
					<!-- Page Title -->
					<div class="techwave_fn_pagetitle">
						<h1 class="title">User Profile</h1>
					</div>
					<!-- !Page Title -->
				
					<div class="container small">
						<div class="techwave_fn_user_profile">

							<div class="user__profile">
								<div class="user_avatar">
									<img src="img/user/user.png" alt="">
								</div>
								<div class="user_details" id="user_detail45">
									
									<ul>
										<li>
											<div class="item">
												<h4 class="subtitle">Name</h4>
												<h3 class="title">John Cena</h3>
											</div>
										</li>
										<li>
											<div class="item">
												<h4 class="subtitle">Email Address</h4>
												<h3 class="title">johncena@gmail.com</h3>
											</div>
										</li>
										<li>
											<div class="item">
												<h4 class="subtitle">Date of Birth</h4>
												<h3 class="title">10/07/2000</h3>
											</div>
										</li>
										<li>
											<div class="item">
												<h4 class="subtitle">Gender</h4>
												<h3 class="title">Male</h3>
											</div>
										</li>
										<li>
											<div class="item">
												<h4 class="subtitle">Locality</h4>
												<h3 class="title">Hauz Khas</h3>
											</div>
										</li>
										<li>
											<div class="item">
												<h4 class="subtitle">PIN Code</h4>
												<h3 class="title">110030</h3>
											</div>
										</li>
									</ul>
								</div>
								<a href="user-settings.html" class="user_edit fn__icon_button">
									<img src="svg/setting.svg" alt="" class="fn__svg">
								</a>
							</div>

							<div class="user__plan">
								<div class="plan_left">
									<h2 >Your Consent</h2>
									<p class="info"><span>Personal Information</span> - is solely taken to give a personalized experience, and Let the Doctor Understand basic details before any Medication. Make Sure Personal Details are Correct. For more details read <strong>Privacy Policy</strong></p>
								</div>
								<div class="plan_right">
									<a href="privacy.html" class="token_upgrade techwave_fn_button"><span>Privacy Policy</span></a>
								</div>
							</div>
						</div>
					</div>
					
				</div>
				<!-- !User Profile Page -->
				
			</div>
			<!-- !PAGE (all pages go inside this div) -->
			
			
			
		</div>
		<!-- !CONTENT -->
		
		
	</div>
</div>
<!-- !MAIN WRAPPER -->



<!-- Scripts -->
<script type="text/javascript" src="js/jquery8a54.js?ver=1.0.0"></script>
<script type="text/javascript" src="js/plugins8a54.js?ver=1.0.0"></script>
<script type="text/javascript" src="js/init8a54.js?ver=1.0.0"></script>
<!-- !Scripts -->

<!-- Dynamic Profile Script -->
<script>
// Check authentication
const token = localStorage.getItem('authToken');
if (!token) {
	alert('Please login to view your profile');
	window.location.href = 'sign-in.html';
}

// Fetch user profile
async function loadUserProfile() {
	try {
		console.log('Loading user profile...');
		console.log('Token:', token ? 'exists' : 'missing');
		
		const response = await fetch('/api/auth/profile', {
			method: 'GET',
			headers: {
				'Authorization': `Bearer ${token}`,
				'Content-Type': 'application/json'
			}
		});

		console.log('Response status:', response.status);

		if (!response.ok) {
			if (response.status === 401) {
				localStorage.removeItem('authToken');
				localStorage.removeItem('userEmail');
				alert('Session expired. Please login again.');
				window.location.href = 'sign-in.html';
				return;
			}
			const errorData = await response.json();
			console.error('Error response:', errorData);
			throw new Error(errorData.message || 'Failed to fetch profile');
		}

		const user = await response.json();
		console.log('User data received:', user);
		
		// Update profile display with defaults for null values
		const profileHTML = `
			<ul>
				<li>
					<div class="item">
						<h4 class="subtitle">Name</h4>
						<h3 class="title">${user.name || 'Not Set'}</h3>
					</div>
				</li>
				<li>
					<div class="item">
						<h4 class="subtitle">Email Address</h4>
						<h3 class="title">${user.email || 'Not Set'}</h3>
					</div>
				</li>
				<li>
					<div class="item">
						<h4 class="subtitle">Phone</h4>
						<h3 class="title">${user.phone || 'Not Set'}</h3>
					</div>
				</li>
				<li>
					<div class="item">
						<h4 class="subtitle">Date of Birth</h4>
						<h3 class="title">${user.dateOfBirth || 'Not Set'}</h3>
					</div>
				</li>
				<li>
					<div class="item">
						<h4 class="subtitle">Gender</h4>
						<h3 class="title">${user.gender || 'Not Set'}</h3>
					</div>
				</li>
				<li>
					<div class="item">
						<h4 class="subtitle">Locality</h4>
						<h3 class="title">${user.locality || 'Not Set'}</h3>
					</div>
				</li>
				<li>
					<div class="item">
						<h4 class="subtitle">PIN Code</h4>
						<h3 class="title">${user.pinCode || 'Not Set'}</h3>
					</div>
				</li>
			</ul>
		`;
		
		document.getElementById('user_detail45').innerHTML = profileHTML;
		
		// Update header user info
		const userNameElements = document.querySelectorAll('.user_name');
		userNameElements.forEach(el => {
			el.innerHTML = `${user.name}<span>Active</span>`;
		});
		
		const userEmailElements = document.querySelectorAll('.user_email');
		userEmailElements.forEach(el => {
			el.textContent = user.email;
		});
		
		console.log('Profile loaded successfully');
		
	} catch (error) {
		console.error('Error loading profile:', error);
		alert('Failed to load profile: ' + error.message + '. Check browser console for details.');
	}
}

// Load profile on page load
document.addEventListener('DOMContentLoaded', loadUserProfile);

// Add logout functionality to all logout links
document.addEventListener('DOMContentLoaded', function() {
	const logoutLinks = document.querySelectorAll('a[href="sign-in.html"]');
	logoutLinks.forEach(link => {
		link.addEventListener('click', function(e) {
			e.preventDefault();
			localStorage.removeItem('authToken');
			localStorage.removeItem('userEmail');
			alert('Logged out successfully!');
			window.location.href = 'sign-in.html';
		});
	});
});
</script>

</body>

</html>